(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{2346:(e,s,a)=>{Promise.resolve().then(a.bind(a,2422))},2422:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var r=a(5155),l=a(2115);function t(e){let{name:s}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("img",{src:"/logos/nfl/".concat(s,".svg"),alt:"".concat(s," logo"),className:"h-6 w-6",onError:e=>{e.target.style.display="none"}}),(0,r.jsx)("span",{className:"font-medium",children:s})]})}function n(){let[e,s]=(0,l.useState)(""),[a,n]=(0,l.useState)(""),[d,i]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)([]),[u,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{d&&(async()=>{o(!0),h(null);try{let e=await fetch("/api/odds",{cache:"no-store"});if(!e.ok)throw Error("Fetch failed (".concat(e.status,")"));let s=await e.json();x(s.rows||[])}catch(e){h(String((null==e?void 0:e.message)||e))}finally{o(!1)}})()},[d]);let g=(0,l.useMemo)(()=>[...m].sort((e,s)=>new Date(e.commence)-new Date(s.commence)),[m]);return(0,r.jsxs)("main",{className:"mx-auto max-w-5xl px-4 py-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Make Picks"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Login required. For now, entering any credentials unlocks odds (auth to be wired later)."}),d?(0,r.jsxs)("section",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",children:"This Week’s Games"}),(0,r.jsx)("button",{className:"text-sm text-blue-600 hover:underline",onClick:()=>{i(!1),s(""),n("")},children:"Sign out"})]}),c&&(0,r.jsx)("div",{className:"text-gray-500",children:"Loading odds…"}),u&&(0,r.jsxs)("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-red-700",children:["Error: ",u]}),(0,r.jsx)("ul",{className:"grid grid-cols-1 gap-4",children:g.map(e=>{var s,a,l,n;let d=e.moneyline[e.homeTeam],i=e.moneyline[e.awayTeam],{fav:c,dog:o}=e.spread;return(0,r.jsxs)("li",{className:"rounded-xl border border-gray-200 bg-white p-4 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(t,{name:e.awayTeam}),(0,r.jsx)("span",{className:"text-gray-500",children:"@"}),(0,r.jsx)(t,{name:e.homeTeam})]}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.commence).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})]}),(0,r.jsxs)("div",{className:"mt-3 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 p-3",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-gray-500",children:"Moneyline (DraftKings)"}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,r.jsx)("span",{children:e.awayTeam}),(0,r.jsx)("span",{className:"font-semibold",children:null!=i?i:"—"})]}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,r.jsx)("span",{children:e.homeTeam}),(0,r.jsx)("span",{className:"font-semibold",children:null!=d?d:"—"})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 p-3",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-gray-500",children:"Spread (DraftKings)"}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,r.jsx)("span",{children:null!=(s=null==c?void 0:c.name)?s:"Fav"}),(0,r.jsx)("span",{className:"font-semibold",children:c?"".concat(c.point>0?"+":"").concat(c.point," (").concat(null!=(a=c.price)?a:"—",")"):"—"})]}),(0,r.jsxs)("div",{className:"mt-1 flex justify-between",children:[(0,r.jsx)("span",{children:null!=(l=null==o?void 0:o.name)?l:"Dog"}),(0,r.jsx)("span",{className:"font-semibold",children:o?"".concat(o.point>0?"+":"").concat(o.point," (").concat(null!=(n=o.price)?n:"—",")"):"—"})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 p-3",children:[(0,r.jsx)("div",{className:"text-xs uppercase text-gray-500",children:"Your Pick"}),(0,r.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,r.jsx)("button",{className:"rounded-md border border-gray-300 px-2 py-1 text-sm hover:bg-gray-50",children:e.awayTeam}),(0,r.jsx)("button",{className:"rounded-md border border-gray-300 px-2 py-1 text-sm hover:bg-gray-50",children:e.homeTeam})]}),(0,r.jsx)("p",{className:"mt-2 text-xs text-gray-500",children:"(Saving picks wires up after real auth.)"})]})]})]},e.id)})})]}):(0,r.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e&&a&&i(!0)},className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-4",children:[(0,r.jsx)("input",{className:"rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"Username",value:e,onChange:e=>s(e.target.value)}),(0,r.jsx)("input",{className:"rounded-lg border border-gray-300 px-3 py-2 focus:ring-2 focus:ring-blue-500",placeholder:"Password",type:"password",value:a,onChange:e=>n(e.target.value)}),(0,r.jsx)("button",{className:"rounded-lg bg-blue-600 px-4 py-2 font-semibold text-white hover:bg-blue-700",type:"submit",children:"Sign In"})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2346)),_N_E=e.O()}]);